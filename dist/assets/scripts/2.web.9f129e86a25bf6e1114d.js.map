{"version":3,"sources":["webpack:///./src/utils/logger.ts","webpack:///./src/stores/app.ts","webpack:///./src/stores/sourcemap.ts","webpack:///./src/storage/web/KeyValueStorage.ts","webpack:///./src/stores/modules/index.ts","webpack:///./src/stores/modules/setting.ts","webpack:///./src/containers/AppContainer.tsx","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/web/routes/Home/SourceMapForm.tsx","webpack:///./src/web/routes/Home/index.tsx","webpack:///./src/web/routes/Layout/Root.tsx","webpack:///./src/web/routes/config.ts","webpack:///./src/web/routes/App.tsx","webpack:///./src/web/routes/index.tsx","webpack:///./src/web/index.tsx"],"names":["LogLevel","exports","Logger","info","message","args","_i","arguments","length","logLevel","date","Date","console","log","apply","toISOString","concat","debug","warn","error","default","AppStatus","logger_1","__webpack_require__","mobx_1","events_1","AppState","_super","_this","this","status","modules","tslib_1","__extends","prototype","use","module","name","start","starting","install","_c","sent","ready","__decorate","observable","Events","jsmodules_1","_","source_map_1","SourceMapConsumer","lib/mappings.wasm","SourceMapState","file_names","init","setLine","line","isNumber","Error","__line__","setColumn","column","__column__","resolve","selected_file_name","_a","kvStorage","getAsync","__raw_source_map__","_b","with","consumer","originalPositionFor","mappedPosition","result","source","saveFileContent","fileName","content","valueOf","setAsync","push","deleteFileContent","includes","removeAsync","filter","keys","di","Inject","localForage","stores","WebKeyValueStorage","__NAME__","createInstance","storeName","store","key","defaultValue","getItem","value","setItem","setObjectAsync","getObjectAsync","setObjectProperty","propertyName","obj","getObjectProperties","propertyNames","propertyNames_1","getObjectValue","removeItem","clearAsync","clear","id_1","target","descriptor","method","nextId","self","__awaiter","__ready__","__installed__","moduleFunc","_1","SettingModule","language","theme","read","setting","setTheme","setLanguage","React","app_1","setting_1","KeyValueStorage_1","sourcemap_1","container","bind","to","HttpFactory","isSingletonScope","params","AppContainer","props","Children","only","children","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","e","code","Object","antd_1","mobx_react_1","Option","Select","FormItem","Form","Item","SourceMapForm","handleOnSelect","option","sourcemap","handleOnSumbit","preventDefault","form","validateFields","err","values","handleOnDeleteClick","file_name","render","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","uploadProps","showUploadList","beforeUpload","fileReader","FileReader","onload","readAsText","createElement","onSubmit","Row","Col","__assign","label","onSelect","style","overflow","textOverflow","whiteSpace","Button","icon","size","onClick","disabled","Upload","initialValue","InputNumber","min","offset","textAlign","type","htmlType","observer","Component","WrappedSourceMapForm","create","SourceMapForm_1","TextArea","Input","Home","width","margin","autosize","minRows","maxRows","react_router_config_1","Root","routes","route","renderRoutes","Root_1","Home_1","path","component","exact","react_router_dom_1","config_1","App","app","HashRouter","App_1","AppRouter","componentDidMount","Resolve","ReactDOM","routes_1","AppContainer_1","MOUNT_NODE","document","getElementById"],"mappings":"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C,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACA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","file":"assets/scripts/2.web.9f129e86a25bf6e1114d.js","sourcesContent":["export enum LogLevel {\r\n    info = 4,\r\n    debug = 3,\r\n    warn = 2,\r\n    error = 1\r\n}\r\n\r\n\r\nexport class Logger {\r\n    static logLevel = __DEV__? LogLevel.info:LogLevel.error;\r\n\r\n    static info(message, ...args) {\r\n        if (Logger.logLevel < LogLevel.info) {\r\n            return;\r\n        }\r\n        var date = new Date();\r\n        console.log(`✔[INFO][${date.toISOString()}] ${message}`, ...args);\r\n    }\r\n    static debug(message, ...args) {\r\n        if (Logger.logLevel < LogLevel.debug) {\r\n            return;\r\n        }\r\n        var date = new Date();\r\n        console.log(`🐞[DEBUG][${date.toISOString()}] ${message}`, ...args);\r\n    }\r\n\r\n    static warn(message, ...args) {\r\n        if (Logger.logLevel < LogLevel.warn) {\r\n            return;\r\n        }\r\n        var date = new Date();\r\n        console.warn(`🥕[WARN][${date.toISOString()}] ${message}`, ...args);\r\n    }\r\n    static error(message, ...args) {\r\n        var date = new Date();\r\n        console.warn(`❌[ERROR][${date.toISOString()}] ${message}`, ...args);\r\n    }\r\n}\r\n\r\nexport default Logger","import { di } from 'jsmodules';\r\nimport { IKeyValueStorage } from '../storage/IKeyValueStorage';\r\nimport { Logger } from '../utils/logger';\r\nimport { observable } from 'mobx';\r\nimport { IAppModule } from './modules';\r\nimport { Events } from 'jsmodules/lib/events';\r\n\r\nexport enum AppStatus {\r\n    starting = \"starting\",\r\n    error = \"error\",\r\n    ready = \"ready\"\r\n}\r\n\r\nexport class AppState extends Events {\r\n    /**\r\n     * app 状态\r\n     */\r\n    @observable status : AppStatus=null;\r\n\r\n    modules:{[name:string]:IAppModule} = {};\r\n\r\n    use(module:IAppModule){\r\n        this.modules[module.name] = module;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 启动应用\r\n     */\r\n    public async start() {\r\n        Logger.info(\"启动应用程序\");\r\n        this.status=AppStatus.starting;\r\n        for(var name in this.modules){\r\n            const module=this.modules[name];\r\n            await module.install();\r\n        }\r\n        this.status=AppStatus.ready;\r\n        Logger.info(\"启动成功\",this.status);\r\n    }\r\n}\r\n\r\nexport default AppState;","import { di } from 'jsmodules';\r\nimport { observable, computed } from 'mobx';\r\nimport * as _ from 'lodash';\r\nimport { SourceMapConsumer } from 'source-map';\r\nimport { IKeyValueStorage } from '../storage/IKeyValueStorage';\r\nimport { nextId } from 'jsmodules/lib/system/id';\r\n\r\n\r\nSourceMapConsumer['initialize']({\r\n    \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.2/lib/mappings.wasm\"\r\n});\r\n\r\nexport class SourceMapState {\r\n    @di.Inject() kvStorage: IKeyValueStorage;\r\n\r\n    private __raw_source_map__: string;\r\n\r\n    private __line__: number;\r\n\r\n    private __column__: number;\r\n\r\n    @observable selected_file_name: string;\r\n\r\n    @observable result: string;\r\n\r\n    @observable file_names: Array<string> = [];\r\n\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    setLine(line: number) {\r\n        if (_.isNumber(line) && line >= 0) {\r\n            this.__line__ = line;\r\n        }\r\n        else {\r\n            throw new Error('property line need number');\r\n        }\r\n    }\r\n\r\n    setColumn(column: number) {\r\n        if (_.isNumber(column) && column >= 0) {\r\n            this.__column__ = column\r\n        }\r\n        else {\r\n            throw new Error('property column need number');\r\n        }\r\n    }\r\n\r\n    async resolve() {\r\n        if (!this.selected_file_name) {\r\n            throw new Error('need select file');\r\n        }\r\n        this.__raw_source_map__ = await this.kvStorage.getAsync(this.selected_file_name);\r\n\r\n        if (!this.__raw_source_map__) {\r\n            throw new Error('need load source map file first');\r\n        }\r\n\r\n        var mappedPosition = await SourceMapConsumer.with(this.__raw_source_map__, null, consumer => {\r\n            return consumer.originalPositionFor({\r\n                line: this.__line__,\r\n                column: this.__column__\r\n            });\r\n        });\r\n\r\n        this.result = `source: ${mappedPosition.source}\\r\\nname: ${mappedPosition.name}\\r\\nline: ${mappedPosition.line}\\r\\ncolumn: ${mappedPosition.column}`;\r\n    }\r\n\r\n    async saveFileContent(fileName: string, content: string) {\r\n        if (!content) {\r\n            throw new Error('file content can not be null');\r\n        }\r\n\r\n        fileName = `${fileName}-${new Date().valueOf()}`;\r\n\r\n        await this.kvStorage.setAsync(fileName, content);\r\n\r\n        this.file_names.push(fileName);\r\n        this.selected_file_name = fileName;\r\n    }\r\n\r\n    async deleteFileContent(fileName: string) {\r\n        if (_.includes(this.file_names, fileName)) {\r\n            await this.kvStorage.removeAsync(fileName);\r\n            this.file_names = _.filter(this.file_names, (name) => {\r\n                if (name != fileName) {\r\n                    return name;\r\n                }\r\n            })\r\n            if (this.selected_file_name == fileName) {\r\n                if (this.file_names.length > 0) {\r\n                    this.selected_file_name = this.file_names[0];\r\n                }else{\r\n                    this.selected_file_name = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private async init() {\r\n        this.file_names = await this.kvStorage.keys();\r\n        if (this.file_names.length > 0) {\r\n            this.selected_file_name = this.file_names[0];\r\n        }\r\n    }\r\n}","import * as localForage from 'localforage';\r\nimport { IKeyValueStorage } from '../IKeyValueStorage';\r\nimport { Logger } from '../../utils/logger';\r\n\r\n\r\nconst stores={};\r\n\r\nexport class WebKeyValueStorage implements IKeyValueStorage {\r\n    private store:LocalForage;\r\n    constructor(private __NAME__){\r\n        if(!stores[__NAME__]){\r\n            stores[__NAME__]=localForage.createInstance({\r\n                name:\"app.db\",\r\n                storeName:__NAME__\r\n            });\r\n        }\r\n        this.store=stores[__NAME__];\r\n    }\r\n    \r\n    keys(){\r\n        return this.store.keys();\r\n    }\r\n\r\n    async getAsync(key : string, defaultValue = null) {\r\n        var result=await this.store.getItem(key);\r\n        return result||defaultValue;\r\n    }\r\n    \r\n    async setAsync(key : string, value : any) {\r\n        await this.store.setItem(key,value);\r\n        return value;\r\n    }\r\n\r\n    async setObjectAsync(key : string, value : any) : Promise < any > {\r\n        return await this.setAsync(key, value);\r\n    }\r\n\r\n    async getObjectAsync(key : string) : Promise < any > {\r\n        return await this.getAsync(key, null);\r\n    }\r\n\r\n    async setObjectProperty(key : string, propertyName : string, value : any) {\r\n        var obj = await this.getObjectAsync(key);\r\n        if (!obj) {\r\n            obj = {};\r\n        }\r\n        obj[propertyName] = value;\r\n        return await this.setObjectAsync(key, obj);\r\n    }\r\n\r\n    async getObjectProperties(key : string, ...propertyNames : any[]) {\r\n        var obj = await this.getObjectAsync(key);\r\n        if (!obj) {\r\n            obj = {};\r\n        }\r\n        var result = {};\r\n        for (var propertyName of propertyNames) {\r\n            result[propertyName] = obj[propertyName];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    async getObjectValue(key : string, propertyName : string) {\r\n        var obj = await this.getObjectAsync(key);\r\n        if (obj) {\r\n            return obj[propertyName];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    async removeAsync(key : string) : Promise < any > {\r\n        await this.store.removeItem(key);\r\n    }\r\n\r\n    async clearAsync() : Promise < any > {\r\n        await this.store.clear();\r\n    }\r\n}\r\n\r\nexport default WebKeyValueStorage;","import AppState from '../app';\r\nimport { Logger } from '../../utils/logger';\r\nimport { nextId } from 'jsmodules/lib/system/id';\r\n\r\n/**\r\n * 模块入口标记\r\n * @param target 实例对象\r\n * @param name 函数名\r\n * @param descriptor 函数实例\r\n */\r\nexport function module(target:IAppModule, name, descriptor){\r\n    let method  = descriptor.value;\r\n    target.name =`module_${nextId()}`;\r\n    //注意,这里不要用箭头函数,已保持this关键字是原来的对象 ⚠️\r\n    descriptor.value = function(...args){\r\n        var self=this;\r\n        const exec=async ()=>{\r\n            let result =await method.apply(self,args);\r\n            self.__ready__=true;\r\n            return result\r\n        }\r\n        return exec();\r\n    }\r\n    //如果模块没有一个叫install的函数,就加一个\r\n    if(name!=\"install\"){\r\n        target.install=async()=>{\r\n            return descriptor.value();\r\n        }\r\n    }\r\n    target.__installed__=true;\r\n}\r\n\r\n/**\r\n * 模块暴露给外部调用的验证函数\r\n * @param target 实例对象\r\n * @param name 函数名\r\n * @param descriptor 函数实例\r\n */\r\nexport function moduleFunc(target:IAppModule,name,descriptor){\r\n    let method  = descriptor.value;\r\n    //注意,这里不要用箭头函数,已保持this关键字是原来的对象 ⚠️\r\n    descriptor.value = function(...args){\r\n        var self=this;\r\n        if(!self.__installed__){\r\n            throw new Error(`模块${self.name}未安装`);\r\n        }\r\n        if(!self.__ready__){\r\n            throw new Error(`模块${self.name}不可用`);\r\n        }\r\n        return method.apply(self,args);\r\n    }\r\n}\r\n\r\n/**\r\n * 简陋的模块 😍\r\n */\r\nexport interface IAppModule{\r\n    /**\r\n     * 模块友好名称\r\n     */\r\n    name?:string;\r\n    /**\r\n     * 模块是否可用\r\n     */\r\n    __ready__?:boolean;\r\n    /**\r\n     * 模块是否安装\r\n     */\r\n    __installed__?:boolean;\r\n\r\n    /**\r\n     * 安装模块\r\n     */\r\n    install?:()=>any;\r\n}","import AppState from '../app';\r\nimport { IAppModule, module, moduleFunc } from '.';\r\nimport { autorun, observable } from 'mobx';\r\nimport { Logger } from '../../utils/logger';\r\nimport { di } from 'jsmodules';\r\nimport { IKeyValueStorage } from '../../storage/IKeyValueStorage';\r\n\r\n\r\nexport class SettingModule implements IAppModule {\r\n    name: string=\"setting\";\r\n    __ready__:boolean;\r\n    __installed__:boolean;\r\n\r\n    @di.Inject() app: AppState;\r\n\r\n    @di.Inject() kvStorage: IKeyValueStorage;\r\n\r\n     /**\r\n     * 系统设置语言,默认en-US\r\n     */\r\n    @observable language=\"en-US\";\r\n\r\n    /**\r\n     * 系统设置主题,默认light\r\n     */\r\n    @observable theme=\"light\";\r\n\r\n    /**\r\n     * 读\r\n     */\r\n    async read(){\r\n        Logger.info(\"加载系统配置\");\r\n        var setting= await this.kvStorage.getObjectAsync(\"app\");\r\n        if(setting){\r\n            this.language=setting.language||this.language;\r\n            this.theme=setting.theme||this.theme;\r\n        }\r\n        Logger.info(\"系统语言:\",this.language);\r\n        Logger.info(\"系统主题:\",this.theme);\r\n    }\r\n\r\n    /**\r\n     * 修改系统主题\r\n     * @param theme \r\n     */\r\n    @moduleFunc\r\n    async setTheme(theme){\r\n        this.theme=theme;\r\n        await this.kvStorage.setObjectProperty(\"app\",\"theme\",theme);\r\n        Logger.info(\"主题已经修改为\",theme);\r\n    }\r\n\r\n    /**\r\n     * 修改系统语言\r\n     * @param language \r\n     */\r\n    @moduleFunc\r\n    async setLanguage(language){\r\n        this.language=language;\r\n        await this.kvStorage.setObjectProperty(\"app\",\"language\",language);\r\n        Logger.info(\"语言已经修改为\",language);\r\n    }\r\n\r\n\r\n    @module\r\n    async install() {\r\n        await this.read();\r\n    }\r\n}","import * as React from 'react';\r\nimport { AppState } from '../stores/app';\r\nimport { AutoHttpFactory, AxiosRequestBuilder } from '../utils/http';\r\nimport { di, HttpFactory } from 'jsmodules';\r\nimport { SettingModule } from '../stores/modules/setting';\r\nimport { WebKeyValueStorage } from '../storage/web/KeyValueStorage';\r\nimport { SourceMapState } from '../stores/sourcemap';\r\n\r\n\r\n\r\nconst { container }=di;\r\n\r\n//#region http and api\r\n\r\ncontainer.bind(\"httpFactory\").to(HttpFactory);\r\n\r\n//#endregion\r\n\r\n//#region global manager\r\n\r\ncontainer.bind(\"app\").to(AppState).isSingletonScope();\r\ncontainer.bind(\"kvStorage\").to(WebKeyValueStorage).params(\"Main\").isSingletonScope();\r\n\r\n//#endregion\r\n\r\n\r\n\r\n//#region modules\r\n\r\ncontainer.bind(\"setting\").to(SettingModule).isSingletonScope();\r\n\r\n//#endregion\r\n\r\n\r\ncontainer.bind(\"sourcemap\").to(SourceMapState).isSingletonScope();\r\n\r\n\r\nexport function AppContainer(props){\r\n    return React.Children.only(props.children)\r\n}","var map = {\n\t\"./af\": 332,\n\t\"./af.js\": 332,\n\t\"./ar\": 331,\n\t\"./ar-dz\": 330,\n\t\"./ar-dz.js\": 330,\n\t\"./ar-kw\": 329,\n\t\"./ar-kw.js\": 329,\n\t\"./ar-ly\": 328,\n\t\"./ar-ly.js\": 328,\n\t\"./ar-ma\": 327,\n\t\"./ar-ma.js\": 327,\n\t\"./ar-sa\": 326,\n\t\"./ar-sa.js\": 326,\n\t\"./ar-tn\": 325,\n\t\"./ar-tn.js\": 325,\n\t\"./ar.js\": 331,\n\t\"./az\": 324,\n\t\"./az.js\": 324,\n\t\"./be\": 323,\n\t\"./be.js\": 323,\n\t\"./bg\": 322,\n\t\"./bg.js\": 322,\n\t\"./bm\": 321,\n\t\"./bm.js\": 321,\n\t\"./bn\": 320,\n\t\"./bn.js\": 320,\n\t\"./bo\": 319,\n\t\"./bo.js\": 319,\n\t\"./br\": 318,\n\t\"./br.js\": 318,\n\t\"./bs\": 317,\n\t\"./bs.js\": 317,\n\t\"./ca\": 316,\n\t\"./ca.js\": 316,\n\t\"./cs\": 315,\n\t\"./cs.js\": 315,\n\t\"./cv\": 314,\n\t\"./cv.js\": 314,\n\t\"./cy\": 313,\n\t\"./cy.js\": 313,\n\t\"./da\": 312,\n\t\"./da.js\": 312,\n\t\"./de\": 311,\n\t\"./de-at\": 310,\n\t\"./de-at.js\": 310,\n\t\"./de-ch\": 309,\n\t\"./de-ch.js\": 309,\n\t\"./de.js\": 311,\n\t\"./dv\": 308,\n\t\"./dv.js\": 308,\n\t\"./el\": 307,\n\t\"./el.js\": 307,\n\t\"./en-au\": 306,\n\t\"./en-au.js\": 306,\n\t\"./en-ca\": 305,\n\t\"./en-ca.js\": 305,\n\t\"./en-gb\": 304,\n\t\"./en-gb.js\": 304,\n\t\"./en-ie\": 303,\n\t\"./en-ie.js\": 303,\n\t\"./en-il\": 302,\n\t\"./en-il.js\": 302,\n\t\"./en-nz\": 301,\n\t\"./en-nz.js\": 301,\n\t\"./eo\": 300,\n\t\"./eo.js\": 300,\n\t\"./es\": 299,\n\t\"./es-do\": 298,\n\t\"./es-do.js\": 298,\n\t\"./es-us\": 297,\n\t\"./es-us.js\": 297,\n\t\"./es.js\": 299,\n\t\"./et\": 296,\n\t\"./et.js\": 296,\n\t\"./eu\": 295,\n\t\"./eu.js\": 295,\n\t\"./fa\": 294,\n\t\"./fa.js\": 294,\n\t\"./fi\": 293,\n\t\"./fi.js\": 293,\n\t\"./fo\": 292,\n\t\"./fo.js\": 292,\n\t\"./fr\": 291,\n\t\"./fr-ca\": 290,\n\t\"./fr-ca.js\": 290,\n\t\"./fr-ch\": 289,\n\t\"./fr-ch.js\": 289,\n\t\"./fr.js\": 291,\n\t\"./fy\": 288,\n\t\"./fy.js\": 288,\n\t\"./gd\": 287,\n\t\"./gd.js\": 287,\n\t\"./gl\": 286,\n\t\"./gl.js\": 286,\n\t\"./gom-latn\": 285,\n\t\"./gom-latn.js\": 285,\n\t\"./gu\": 284,\n\t\"./gu.js\": 284,\n\t\"./he\": 283,\n\t\"./he.js\": 283,\n\t\"./hi\": 282,\n\t\"./hi.js\": 282,\n\t\"./hr\": 281,\n\t\"./hr.js\": 281,\n\t\"./hu\": 280,\n\t\"./hu.js\": 280,\n\t\"./hy-am\": 279,\n\t\"./hy-am.js\": 279,\n\t\"./id\": 278,\n\t\"./id.js\": 278,\n\t\"./is\": 277,\n\t\"./is.js\": 277,\n\t\"./it\": 276,\n\t\"./it.js\": 276,\n\t\"./ja\": 275,\n\t\"./ja.js\": 275,\n\t\"./jv\": 274,\n\t\"./jv.js\": 274,\n\t\"./ka\": 273,\n\t\"./ka.js\": 273,\n\t\"./kk\": 272,\n\t\"./kk.js\": 272,\n\t\"./km\": 271,\n\t\"./km.js\": 271,\n\t\"./kn\": 270,\n\t\"./kn.js\": 270,\n\t\"./ko\": 269,\n\t\"./ko.js\": 269,\n\t\"./ky\": 268,\n\t\"./ky.js\": 268,\n\t\"./lb\": 267,\n\t\"./lb.js\": 267,\n\t\"./lo\": 266,\n\t\"./lo.js\": 266,\n\t\"./lt\": 265,\n\t\"./lt.js\": 265,\n\t\"./lv\": 264,\n\t\"./lv.js\": 264,\n\t\"./me\": 263,\n\t\"./me.js\": 263,\n\t\"./mi\": 262,\n\t\"./mi.js\": 262,\n\t\"./mk\": 261,\n\t\"./mk.js\": 261,\n\t\"./ml\": 260,\n\t\"./ml.js\": 260,\n\t\"./mn\": 259,\n\t\"./mn.js\": 259,\n\t\"./mr\": 258,\n\t\"./mr.js\": 258,\n\t\"./ms\": 257,\n\t\"./ms-my\": 256,\n\t\"./ms-my.js\": 256,\n\t\"./ms.js\": 257,\n\t\"./mt\": 255,\n\t\"./mt.js\": 255,\n\t\"./my\": 254,\n\t\"./my.js\": 254,\n\t\"./nb\": 253,\n\t\"./nb.js\": 253,\n\t\"./ne\": 252,\n\t\"./ne.js\": 252,\n\t\"./nl\": 251,\n\t\"./nl-be\": 250,\n\t\"./nl-be.js\": 250,\n\t\"./nl.js\": 251,\n\t\"./nn\": 249,\n\t\"./nn.js\": 249,\n\t\"./pa-in\": 248,\n\t\"./pa-in.js\": 248,\n\t\"./pl\": 247,\n\t\"./pl.js\": 247,\n\t\"./pt\": 246,\n\t\"./pt-br\": 245,\n\t\"./pt-br.js\": 245,\n\t\"./pt.js\": 246,\n\t\"./ro\": 244,\n\t\"./ro.js\": 244,\n\t\"./ru\": 243,\n\t\"./ru.js\": 243,\n\t\"./sd\": 242,\n\t\"./sd.js\": 242,\n\t\"./se\": 241,\n\t\"./se.js\": 241,\n\t\"./si\": 240,\n\t\"./si.js\": 240,\n\t\"./sk\": 239,\n\t\"./sk.js\": 239,\n\t\"./sl\": 238,\n\t\"./sl.js\": 238,\n\t\"./sq\": 237,\n\t\"./sq.js\": 237,\n\t\"./sr\": 236,\n\t\"./sr-cyrl\": 235,\n\t\"./sr-cyrl.js\": 235,\n\t\"./sr.js\": 236,\n\t\"./ss\": 234,\n\t\"./ss.js\": 234,\n\t\"./sv\": 233,\n\t\"./sv.js\": 233,\n\t\"./sw\": 232,\n\t\"./sw.js\": 232,\n\t\"./ta\": 231,\n\t\"./ta.js\": 231,\n\t\"./te\": 230,\n\t\"./te.js\": 230,\n\t\"./tet\": 229,\n\t\"./tet.js\": 229,\n\t\"./tg\": 228,\n\t\"./tg.js\": 228,\n\t\"./th\": 227,\n\t\"./th.js\": 227,\n\t\"./tl-ph\": 226,\n\t\"./tl-ph.js\": 226,\n\t\"./tlh\": 225,\n\t\"./tlh.js\": 225,\n\t\"./tr\": 224,\n\t\"./tr.js\": 224,\n\t\"./tzl\": 223,\n\t\"./tzl.js\": 223,\n\t\"./tzm\": 222,\n\t\"./tzm-latn\": 221,\n\t\"./tzm-latn.js\": 221,\n\t\"./tzm.js\": 222,\n\t\"./ug-cn\": 220,\n\t\"./ug-cn.js\": 220,\n\t\"./uk\": 219,\n\t\"./uk.js\": 219,\n\t\"./ur\": 218,\n\t\"./ur.js\": 218,\n\t\"./uz\": 217,\n\t\"./uz-latn\": 216,\n\t\"./uz-latn.js\": 216,\n\t\"./uz.js\": 217,\n\t\"./vi\": 215,\n\t\"./vi.js\": 215,\n\t\"./x-pseudo\": 214,\n\t\"./x-pseudo.js\": 214,\n\t\"./yo\": 213,\n\t\"./yo.js\": 213,\n\t\"./zh-cn\": 212,\n\t\"./zh-cn.js\": 212,\n\t\"./zh-hk\": 211,\n\t\"./zh-hk.js\": 211,\n\t\"./zh-tw\": 210,\n\t\"./zh-tw.js\": 210\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 622;","import { di } from 'jsmodules';\r\nimport * as React from 'react';\r\nimport { Upload, Form, Row, Col, InputNumber, Button, Icon, Select, Radio } from 'antd';\r\nimport { SourceMapState } from '../../../stores/sourcemap';\r\nimport { observer } from 'mobx-react';\r\nconst Option = Select.Option;\r\nconst FormItem = Form.Item\r\n\r\n@observer\r\nclass SourceMapForm extends React.Component<any, any> {\r\n\r\n    @di.Inject() sourcemap: SourceMapState;\r\n\r\n    handleOnSelect = async (value, option) => {\r\n        this.sourcemap.selected_file_name = value;\r\n    }\r\n\r\n    handleOnSumbit = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.sourcemap.setLine(values.line);\r\n                this.sourcemap.setColumn(values.column);\r\n                this.sourcemap.resolve();\r\n            }\r\n        });\r\n    }\r\n\r\n    handleOnDeleteClick = (file_name) => {\r\n        this.sourcemap.deleteFileContent(file_name);\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n        const { getFieldDecorator } = this.props.form;\r\n\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 8 },\r\n            },\r\n            wrapperCol: {\r\n                xs: { span: 24 },\r\n                sm: { span: 16 },\r\n            },\r\n        };\r\n\r\n        const uploadProps = {\r\n            showUploadList: false,\r\n            beforeUpload: (info) => {\r\n                var fileName = info.name;\r\n\r\n                var fileReader = new FileReader();\r\n                fileReader.onload = (e) => {\r\n                    var content = e.target[\"result\"];\r\n                    this.sourcemap.saveFileContent(fileName, content);\r\n                };\r\n                fileReader.readAsText(info);\r\n\r\n                return false;\r\n            }\r\n        };\r\n\r\n        return (\r\n            <Form onSubmit={this.handleOnSumbit}>\r\n                <Row>\r\n                    <Col span={8}>\r\n                        <FormItem label=\"SourceMapFile\" {...formItemLayout}>\r\n                            <Select value={this.sourcemap.selected_file_name} onSelect={this.handleOnSelect}>\r\n                                {\r\n                                    this.sourcemap.file_names.map(file_name => {\r\n                                        return <Option value={file_name} key={file_name} >\r\n                                            <Row>\r\n                                                <Col span={20} style={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\r\n                                                    <span>{file_name}</span>\r\n                                                </Col>\r\n                                                <Col span={4}>\r\n                                                    {(this.sourcemap.selected_file_name != file_name) && (\r\n                                                        <Button icon=\"delete\" size=\"small\" onClick={() => { this.handleOnDeleteClick(file_name) }}></Button>\r\n                                                    )}\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </Option>\r\n                                    })\r\n                                }\r\n                                <Option value=\"add\" disabled>\r\n                                    <Upload {...uploadProps}>\r\n                                        <Button>\r\n                                            Click to Upload\r\n                                        </Button>\r\n                                    </Upload>\r\n                                </Option>\r\n                            </Select>\r\n                        </FormItem>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <FormItem label=\"Line\" {...formItemLayout}>\r\n                            {getFieldDecorator('line', { initialValue: 0 })(\r\n                                <InputNumber min={0} />\r\n                            )}\r\n                        </FormItem>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <FormItem label=\"Column\" {...formItemLayout}>\r\n                            {getFieldDecorator('column', { initialValue: 0 })(\r\n                                <InputNumber min={0} />\r\n                            )}\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col offset={16} span={8} style={{ textAlign: \"right\" }}>\r\n                        <FormItem>\r\n                            <Button type=\"primary\" htmlType=\"submit\">Submit</Button>\r\n                        </FormItem>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nconst WrappedSourceMapForm = Form.create<any>({\r\n})(SourceMapForm);\r\n\r\nexport default WrappedSourceMapForm;","import { di } from 'jsmodules';\r\nimport * as React from 'react';\r\nimport WrappedSourceMapForm from '../Home/SourceMapForm';\r\nimport { SourceMapState } from '../../../stores/sourcemap';\r\nimport { observer } from 'mobx-react';\r\nimport { Input } from 'antd';\r\nconst TextArea = Input.TextArea;\r\n\r\n@observer\r\nclass Home extends React.Component<any, any> {\r\n  @di.Inject() sourcemap: SourceMapState;\r\n\r\n  public render(): JSX.Element {\r\n    return (\r\n      <div style={{ width: 960, margin: \"20px auto\" }}>\r\n        <WrappedSourceMapForm ></WrappedSourceMapForm>\r\n        <div>\r\n          <TextArea value={this.sourcemap.result} autosize={{minRows: 10, maxRows: 20}}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import * as React from 'react';\r\nimport { renderRoutes } from 'react-router-config';\r\n\r\n\r\n\r\n\r\n\r\nclass Root extends React.Component<any,any> {\r\n    public render(): JSX.Element {\r\n        const {routes}=this.props.route;\r\n\r\n        return <div>\r\n            {\r\n                renderRoutes(routes)\r\n            }\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Root;\r\n","import Root from \"./Layout/Root\";\r\nimport Home from './Home';\r\n\r\nexport const routes = [\r\n    {\r\n        path:\"/\",\r\n        component: Root,\r\n        routes: [\r\n            {\r\n                path: '/',\r\n                exact: true,\r\n                component: Home\r\n            }\r\n        ]\r\n    }\r\n]","import * as React from 'react';\r\nimport AppState, { AppStatus } from '../../stores/app';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { di } from 'jsmodules';\r\nimport { observer } from 'mobx-react';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport { routes } from './config';\r\n\r\n@observer\r\nclass App extends React.Component<any,any> {\r\n\r\n    @di.Inject()app : AppState;\r\n\r\n\r\n    public render() : JSX.Element {\r\n        if(this.app.status == AppStatus.ready) {\r\n            return (<Router>\r\n                {renderRoutes(routes)}\r\n            </Router>\r\n            );\r\n        }\r\n        return <div>loading...</div>;\r\n    }\r\n}\r\n\r\nexport default App;","import * as React from 'react';\r\nimport App from './App';\r\nimport AppState from '../../stores/app';\r\nimport { di } from 'jsmodules';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport '../styles/index.less';\r\n\r\nclass AppRouter extends React.Component<{}, {}> {\r\n    @di.Inject() app: AppState;\r\n    componentDidMount() {\r\n        this.app.use(di.Resolve(\"setting\"))\r\n            .start();\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <App />\r\n        )\r\n    }\r\n}\r\n\r\nexport default AppRouter;\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport AppRouter from './routes';\r\nimport { AppContainer } from '../containers/AppContainer';\r\nimport 'promise-polyfill';\r\n// ========================================================\r\n// Render Setup\r\n// ========================================================\r\nconst MOUNT_NODE = document.getElementById('root');\r\n\r\nlet render = () => {\r\n\r\n    ReactDOM.render(<AppContainer>\r\n        <AppRouter />\r\n    </AppContainer>, MOUNT_NODE)\r\n}\r\n\r\n// This code is excluded from production bundle\r\nif (__DEV__) {\r\n    //devTools\r\n    if (module.hot) {\r\n        // Development render functions\r\n        const renderApp = render\r\n        const renderError = (error) => {\r\n            const RedBox: any = require<{ default: any }>('redbox-react').default;\r\n            ReactDOM.render(<RedBox error={error} />, MOUNT_NODE)\r\n        }\r\n\r\n        // Wrap render in try/catch\r\n        render = () => {\r\n            try {\r\n                renderApp()\r\n            } catch (error) {\r\n                renderError(error)\r\n            }\r\n        }\r\n\r\n        //Setup hot module replacement\r\n        module.hot.accept('./routes/index', () =>\r\n            setImmediate(() => {\r\n                ReactDOM.unmountComponentAtNode(MOUNT_NODE)\r\n                render()\r\n            })\r\n        )\r\n    }\r\n}\r\n\r\n// ========================================================\r\n// render\r\n// ========================================================\r\n\r\nrender();"],"sourceRoot":""}